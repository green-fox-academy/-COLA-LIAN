<html>
    <head>
        <meta charset="UTF-8">
        <title>Star Wars API</title>
    </head>
    <style>
    .frame{
        height: 80%;
        width:40%;
        margin-top: 10%;
        float: left;
        background-color: pink;
    }
    #input{
        height: 70px;
        width: 70%;
    }
    #search{
        height: 70px;
        width: 40%;
        border-radius: 30px;
        margin-top: 12%
    }
    li{
        margin-left: 20px;
        margin-top: 10px;
    }
    </style>
    <body>
        <div class = "frame" id="frame1">
            <h2>Enter charater name</h2>
            <input type="text" id="input" />
        </div>

        <div class = "frame">
            <button id="search"><h2>search</h2></button>
        </div>
    </body>





    <script>
        let search = document.getElementById('search');
        search.addEventListener('click', find);
        
        // function find(){
            let xhr = new XMLHttpRequest();
            // let body = document.body;
            function starWars(){
                xhr.onreadystatechange = callback;
                xhr.open('GET', `https://swapi.co/api/people/`, true);
                xhr.send(null);
             }
 
        function callback(){
            if(xhr.readyState == 4){
                if(xhr.status == 200){
                let res = JSON.parse(xhr.responseText);
                console.log(res);    
                // console.log(res.results.length);
                    for(let i = 0; i < res.results.length; i++){
                        let people = document.createElement('li')
                        people.innerText = res.results[i].name;
                        let frame1 = document.getElementById('frame1');
                        frame1.appendChild(people);


                        console.log('======='+res.results[i].films.length);
                        // for(let j = 0; j < res.results[i].films.length; j++)
                        // people.addEventListener('click', function(){
                        //     let xhrFilm = new XMLHttpRequest();
                        //     xhr.onreadystatechange = callback;
                        //     xhr.open('GET', `${res.results[i]}`, true);
                        //     xhr.send(null);

                        // })
                    }

                }
            }
        }

        starWars();




        // }


        </script>
</html>
